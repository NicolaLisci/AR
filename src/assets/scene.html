<!doctype html>
<html>
<head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
</head>

<body style="margin: 0; overflow: hidden;">
    <a-scene
    vr-mode-ui="enabled: false;"
    loading-screen="enabled: false;"
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
    id="scene"
    embedded
    gesture-detector
    >
    <a-marker
    id="animated-marker"
    type="pattern"
    preset="custom"
    url="marker.patt"
    raycaster="objects: .clickable"
    emitevents="true"
    cursor="fuse: false; rayOrigin: mouse;"
    id="markerA"
    >
    <a-image
    src="asset.jpg"
    scale="1 1 1" 
    class="clickable"
    rotation="-90 0 0"
    gesture-handler="minScale: 0.25; maxScale: 10"
    ></a-image>
</a-marker>

<a-marker preset="hiro">
    <a-entity gltf-model="url(asset.gltf)" gesture-handler="minScale: 0.25; maxScale: 10"></a-entity>
</a-marker>

<a-entity camera></a-entity>
</a-scene>

<!-- <script>
    sceneEl.addEventListener("onefingermove", handleRotation);
    sceneEl.addEventListener("twofingermove", handleScale);

    sceneEl.addEventListener("markerFound", (e) => {
        isMarkerVisible = true;
    });
    
    sceneEl.addEventListener("markerFound", (e) => {
        isMarkerVisible = true;
    });

    handleRotation(event) {
    if (isMarkerVisible) {
      el.object3D.rotation.y +=
        event.detail.positionChange.x * rotationFactor;

      el.object3D.rotation.x +=
        event.detail.positionChange.y * rotationFactor;
    }
  }

  handleScale(event) {
    if (isMarkerVisible) {
      this.scaleFactor *=
        1 + event.detail.spreadChange / event.detail.startSpread;

      this.scaleFactor = Math.min(
        Math.max(this.scaleFactor, this.data.minScale),
        this.data.maxScale
      );

      el.object3D.scale.x = scaleFactor * initialScale.x;
      el.object3D.scale.y = scaleFactor * initialScale.y;
      el.object3D.scale.z = scaleFactor * initialScale.z;
    }
  }

</script> -->

</body>
</html>
